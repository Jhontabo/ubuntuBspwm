;; =============================================================================
;; CONFIGURACIÓN ÚNICA DE POLYBAR - ESTÉTICA PAC-MAN
;; =============================================================================
;; Una sola barra con todas las funcionalidades
;; Diseño: barra inferior estilo Pac-Man con fantasmas para workspaces

[colors]
bg = #2F343F
fg = #FFFFFF
ac = #FFD700
red = #FF4444
pink = #FF69B4
cyan = #00CED1
orange = #FF8C00

[global/wm]
margin-top = 0
margin-bottom = 0

[settings]
screenchange-reload = true
compositing-background = source
compositing-foreground = over
compositing-overline = over
compositing-underline = over
compositing-border = over

[bar/main]
monitor = 
bottom = true
fixed-center = true
width = 100%
height = 28
offset-x = 0
offset-y = 0
background = ${colors.bg}
foreground = ${colors.fg}
line-size = 2
line-color = ${colors.ac}
border-bottom-size = 0
padding = 2
module-margin-left = 1
module-margin-right = 1
font-0 = "Iosevka Nerd Font:size=11;2"
font-1 = "Iosevka Nerd Font:bold:size=12;2"

modules-left = bspwm
modules-center = xwindow
modules-right = cpu ram volume battery date

wm-restack = bspwm
enable-ipc = true
scroll-up = bspwm-desknext
scroll-down = bspwm-deskprev

;; =============================================================================
;; MÓDULO: WORKSPACES (FANTASMAS PAC-MAN)
;; =============================================================================
[module/bspwm]
type = internal/bspwm
enable-scroll = false
format = <label-state> <label-mode>

ws-icon-0 = 1;1
ws-icon-1 = 2;2
ws-icon-2 = 3;3
ws-icon-3 = 4;4
ws-icon-4 = 5;5
ws-icon-5 = 6;6
ws-icon-6 = 7;7
ws-icon-7 = 8;8
ws-icon-8 = 9;9
ws-icon-9 = 10;0

label-focused = %icon%
label-focused-background = ${colors.ac}
label-focused-foreground = #000000
label-focused-padding = 1

label-occupied = %icon%
label-occupied-background = ${colors.red}
label-occupied-foreground = #FFFFFF
label-occupied-padding = 1

label-urgent = %icon%
label-urgent-background = ${colors.orange}
label-urgent-foreground = #FFFFFF
label-urgent-padding = 1

label-empty = %icon%
label-empty-background = #1a1a2e
label-empty-foreground = #4a4a6a
label-empty-padding = 1

label-monocle = M
label-monocle-padding = 1
label-monocle-background = ${colors.pink}
label-monocle-foreground = #FFFFFF

label-floating = F
label-floating-padding = 1
label-floating-background = ${colors.cyan}
label-floating-foreground = #FFFFFF

label-locked = L
label-locked-padding = 1
label-sticky = S
label-sticky-padding = 1
label-private = P
label-private-padding = 1

label-dimmed-background = ${root.background}
label-dimmed-foreground = #666

;; =============================================================================
;; MÓDULO: TÍTULO DE VENTANA
;; =============================================================================
[module/xwindow]
type = internal/xwindow
format = <label>
format-foreground = ${colors.fg}
format-background = ${colors.bg}
label = %title%
label-maxlen = 60
label-empty = Desktop

;; =============================================================================
;; MÓDULO: CPU
;; =============================================================================
[module/cpu]
type = internal/cpu
interval = 2
format = <label>
format-foreground = ${colors.ac}
format-background = ${colors.bg}
format-prefix = "cpu "
format-prefix-foreground = #888888
label = %percentage%%

;; =============================================================================
;; MÓDULO: MEMORIA RAM
;; =============================================================================
[module/ram]
type = internal/memory
interval = 2
format = <label>
format-foreground = ${colors.pink}
format-background = ${colors.bg}
format-prefix = "mem "
format-prefix-foreground = #888888
label = %percentage_used%%

;; =============================================================================
;; MÓDULO: VOLUMEN
;; =============================================================================
[module/volume]
type = internal/alsa
format-volume = <ramp-volume> <label-volume>
format-muted = <label-muted>
format-foreground = ${colors.cyan}
format-background = ${colors.bg}

ramp-volume-0 = L
ramp-volume-1 = M
ramp-volume-2 = H
ramp-volume-foreground = ${colors.cyan}
label-volume = %percentage%%
label-muted = MUTE
label-muted-foreground = #888888

;; =============================================================================
;; MÓDULO: BATERÍA
;; =============================================================================
[module/battery]
type = internal/battery
interval = 5
full-at = 99
format-charging = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>
format-full = <label-full>
format-foreground = ${colors.cyan}
format-background = ${colors.bg}

label-charging = %percentage%% 
label-discharging = %percentage%% 
label-full = 100%%

ramp-capacity-0 = E
ramp-capacity-1 = 1
ramp-capacity-2 = 2
ramp-capacity-3 = 3
ramp-capacity-4 = 4
ramp-capacity-5 = 5
ramp-capacity-6 = 6
ramp-capacity-7 = 7
ramp-capacity-8 = 8
ramp-capacity-9 = F
ramp-capacity-foreground = ${colors.red}

animation-charging-0 = +
animation-charging-1 = +
animation-charging-2 = +
animation-charging-foreground = ${colors.ac}
animation-charging-framerate = 500

;; =============================================================================
;; MÓDULO: FECHA Y HORA
;; =============================================================================
[module/date]
type = internal/date
interval = 1
time = %H:%M
date = %a %b %d
format = <label>
format-foreground = ${colors.orange}
format-background = ${colors.bg}
label = %date% %time%
